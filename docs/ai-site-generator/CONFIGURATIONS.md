# Sistema de ConfiguraÃ§Ãµes - AI Site Generator

## VisÃ£o Geral

Sistema de configuraÃ§Ãµes dinÃ¢mico que permite gerenciar todas as integraÃ§Ãµes, servidores, provedores de IA e opÃ§Ãµes de hospedagem diretamente do painel admin.

---

## Arquitetura de ConfiguraÃ§Ãµes

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     SETTINGS (Admin Panel)                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   AI Providers  â”‚  â”‚    Servidores   â”‚  â”‚   Deploy        â”‚             â”‚
â”‚  â”‚   (Multi)       â”‚  â”‚   (Dedicados)   â”‚  â”‚   Targets       â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   Storage       â”‚  â”‚   Git           â”‚  â”‚   Hosting       â”‚             â”‚
â”‚  â”‚   (R2/S3)       â”‚  â”‚   Providers     â”‚  â”‚   Plans         â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   Queue         â”‚  â”‚   Secrets       â”‚  â”‚   Backup        â”‚             â”‚
â”‚  â”‚   (Redis)       â”‚  â”‚   Manager       â”‚  â”‚   Config        â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 1. AI Providers (Multi-Provider)

### Conceito
Sistema que suporta mÃºltiplos provedores de IA, permitindo:
- Usar diferentes modelos para diferentes tarefas
- Fallback automÃ¡tico se um provider falhar
- Balanceamento de carga entre providers
- Custos otimizados

### Providers Suportados

| Provider | Modelos | Uso Ideal |
|----------|---------|-----------|
| **OpenAI** | GPT-4o, GPT-4o-mini | AnÃ¡lise, chat |
| **Anthropic** | Claude 3.5 Sonnet, Claude 3 Opus | CÃ³digo, conteÃºdo longo |
| **Google** | Gemini 1.5 Pro, Gemini 1.5 Flash | Multimodal, custo baixo |

### ConfiguraÃ§Ã£o por Tarefa

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  AI Providers Configuration                                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  ğŸ“¦ PROVEDORES CONFIGURADOS                                                 â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                  â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸŸ¢ OpenAI                                          [Ativo]        â”‚    â”‚
â”‚  â”‚      API Key: sk-...xxxxx                                          â”‚    â”‚
â”‚  â”‚      Modelos: gpt-4o, gpt-4o-mini                                  â”‚    â”‚
â”‚  â”‚      [Test] [Edit] [Delete]                                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸŸ¢ Anthropic                                       [Ativo]        â”‚    â”‚
â”‚  â”‚      API Key: sk-ant-...xxxxx                                      â”‚    â”‚
â”‚  â”‚      Modelos: claude-3-5-sonnet, claude-3-opus                     â”‚    â”‚
â”‚  â”‚      [Test] [Edit] [Delete]                                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸŸ¢ Google AI                                       [Ativo]        â”‚    â”‚
â”‚  â”‚      API Key: AIza...xxxxx                                         â”‚    â”‚
â”‚  â”‚      Modelos: gemini-1.5-pro, gemini-1.5-flash                    â”‚    â”‚
â”‚  â”‚      [Test] [Edit] [Delete]                                        â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  [+ Adicionar Provider]                                                     â”‚
â”‚                                                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€      â”‚
â”‚                                                                              â”‚
â”‚  ğŸ¯ ROTEAMENTO POR TAREFA                                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                   â”‚
â”‚                                                                              â”‚
â”‚  â”‚ Tarefa                    â”‚ Provider PrimÃ¡rio â”‚ Fallback       â”‚        â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤        â”‚
â”‚  â”‚ GeraÃ§Ã£o de ConteÃºdo       â”‚ Claude 3.5 Sonnet â”‚ GPT-4o         â”‚        â”‚
â”‚  â”‚ GeraÃ§Ã£o de CÃ³digo         â”‚ Claude 3.5 Sonnet â”‚ GPT-4o         â”‚        â”‚
â”‚  â”‚ AnÃ¡lise de Requisitos     â”‚ GPT-4o            â”‚ Gemini 1.5 Pro â”‚        â”‚
â”‚  â”‚ Fix de Erros              â”‚ Claude 3.5 Sonnet â”‚ GPT-4o         â”‚        â”‚
â”‚  â”‚ RevisÃ£o de Textos         â”‚ Gemini 1.5 Flash  â”‚ GPT-4o-mini    â”‚        â”‚
â”‚                                                                              â”‚
â”‚  [Editar Roteamento]                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Modelo de Dados

```sql
-- Provedores de IA
CREATE TABLE ai_provider (
    id VARCHAR(50) PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    provider_type VARCHAR(50) NOT NULL,  -- 'openai', 'anthropic', 'google'
    api_key_encrypted TEXT NOT NULL,
    base_url VARCHAR(500),
    available_models JSONB NOT NULL,  -- ['gpt-4o', 'gpt-4o-mini']
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- Roteamento por tarefa
CREATE TABLE ai_task_routing (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    task_type VARCHAR(50) NOT NULL UNIQUE,
    primary_provider_id VARCHAR(50) REFERENCES ai_provider(id),
    primary_model VARCHAR(100),
    fallback_provider_id VARCHAR(50) REFERENCES ai_provider(id),
    fallback_model VARCHAR(100),
    max_tokens INTEGER DEFAULT 4000,
    temperature FLOAT DEFAULT 0.7
);
```

---

## 2. Servidores Dedicados

### Conceito
Permite configurar servidores prÃ³prios para deploy, alÃ©m do Cloudflare Pages.

### Tipos de Acesso

| Tipo | Uso |
|------|-----|
| **SSH Key** | Mais seguro, recomendado |
| **SSH Password** | Alternativa rÃ¡pida |
| **FTP/SFTP** | Legacy |
| **API** | PainÃ©is como cPanel, Plesk |

### ConfiguraÃ§Ã£o

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Servidores de Deploy                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ–¥ï¸ Server-01 (Sites EstÃ¡ticos)                      [Ativo]       â”‚    â”‚
â”‚  â”‚      Host: 192.168.1.100                                           â”‚    â”‚
â”‚  â”‚      Tipo: SSH Key                                                 â”‚    â”‚
â”‚  â”‚      User: deploy                                                  â”‚    â”‚
â”‚  â”‚      Path: /var/www/sites                                          â”‚    â”‚
â”‚  â”‚      Uso: Sites EstÃ¡ticos                                          â”‚    â”‚
â”‚  â”‚      EspaÃ§o: 45GB / 100GB                                          â”‚    â”‚
â”‚  â”‚      [Test Connection] [Edit] [Delete]                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ–¥ï¸ Server-02 (Web Apps)                             [Ativo]       â”‚    â”‚
â”‚  â”‚      Host: 192.168.1.101                                           â”‚    â”‚
â”‚  â”‚      Tipo: SSH Key                                                 â”‚    â”‚
â”‚  â”‚      User: deploy                                                  â”‚    â”‚
â”‚  â”‚      Path: /var/www/apps                                           â”‚    â”‚
â”‚  â”‚      Uso: Web Applications                                         â”‚    â”‚
â”‚  â”‚      EspaÃ§o: 120GB / 500GB                                         â”‚    â”‚
â”‚  â”‚      [Test Connection] [Edit] [Delete]                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  â˜ï¸ Cloudflare Pages                                 [PadrÃ£o]      â”‚    â”‚
â”‚  â”‚      Tipo: API                                                     â”‚    â”‚
â”‚  â”‚      Account: Innexar                                              â”‚    â”‚
â”‚  â”‚      Uso: Preview & ProduÃ§Ã£o                                       â”‚    â”‚
â”‚  â”‚      [Configurar]                                                  â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  [+ Adicionar Servidor]                                                     â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Modelo de Dados

```sql
CREATE TABLE deploy_server (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    name VARCHAR(100) NOT NULL,
    server_type VARCHAR(50) NOT NULL,  -- 'ssh', 'ftp', 'api', 'cloudflare'
    
    -- ConexÃ£o
    host VARCHAR(255),
    port INTEGER DEFAULT 22,
    username VARCHAR(100),
    password_encrypted TEXT,
    ssh_key_encrypted TEXT,
    
    -- Paths
    deploy_path VARCHAR(500),
    backup_path VARCHAR(500),
    
    -- ConfiguraÃ§Ã£o
    product_types JSONB,  -- ['static_site', 'web_app']
    is_default BOOLEAN DEFAULT FALSE,
    is_active BOOLEAN DEFAULT TRUE,
    
    -- MÃ©tricas
    disk_total_gb INTEGER,
    disk_used_gb INTEGER,
    last_health_check TIMESTAMP,
    
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);
```

---

## 3. ConfiguraÃ§Ã£o de ENV (IA gerencia)

### Conceito
A IA pode gerar configuraÃ§Ãµes de ambiente para cada projeto automaticamente.

### Fluxo

```
1. Projeto criado
   â”‚
   â–¼
2. IA analisa requisitos do projeto
   â”‚
   â–¼
3. Gera .env com variÃ¡veis necessÃ¡rias
   â”‚
   â”œâ”€â”€ DATABASE_URL (gerado)
   â”œâ”€â”€ API_KEYS (placeholder ou gerado)
   â”œâ”€â”€ SMTP configs
   â””â”€â”€ Custom configs
   â”‚
   â–¼
4. Admin revisa/ajusta
   â”‚
   â–¼
5. Deploy com env configurado
```

### Template de ENV

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Gerador de ENV                                                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  Projeto: Dhv Group Website (Web App)                                        â”‚
â”‚                                                                              â”‚
â”‚  ğŸ¤– ENV Gerado pela IA:                                                      â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                       â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  # Banco de Dados                                                   â”‚    â”‚
â”‚  â”‚  DATABASE_URL=postgresql://dhv_user:****@db.innexar.app:5432/dhv   â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚  # AutenticaÃ§Ã£o                                                     â”‚    â”‚
â”‚  â”‚  NEXTAUTH_SECRET=xxxxxxxxxxxxxxxxxxxxx  # Gerado                   â”‚    â”‚
â”‚  â”‚  NEXTAUTH_URL=https://dhv-group.innexar.app                        â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚  # Email                                                            â”‚    â”‚
â”‚  â”‚  SMTP_HOST=smtp.innexar.app                                        â”‚    â”‚
â”‚  â”‚  SMTP_PORT=587                                                      â”‚    â”‚
â”‚  â”‚  SMTP_USER=noreply@dhv-group.com                                   â”‚    â”‚
â”‚  â”‚  SMTP_PASS=****                                                     â”‚    â”‚
â”‚  â”‚                                                                     â”‚    â”‚
â”‚  â”‚  # Storage                                                          â”‚    â”‚
â”‚  â”‚  S3_BUCKET=dhv-group-assets                                        â”‚    â”‚
â”‚  â”‚  S3_ENDPOINT=https://r2.innexar.app                                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  [âœï¸ Editar] [ğŸ”„ Regenerar] [âœ… Aprovar e Salvar]                           â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 4. Planos de Hospedagem

### Conceito
Oferecer hospedagem gerenciada como serviÃ§o adicional.

### Planos

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Planos de Hospedagem                                                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  ğŸŒ BÃSICO           â”‚  â”‚  ğŸš€ PROFISSIONAL     â”‚  â”‚  ğŸ¢ ENTERPRISE   â”‚  â”‚
â”‚  â”‚     $9/mÃªs           â”‚  â”‚     $29/mÃªs          â”‚  â”‚     $99/mÃªs      â”‚  â”‚
â”‚  â”‚                      â”‚  â”‚                      â”‚  â”‚                  â”‚  â”‚
â”‚  â”‚  â€¢ 5GB Armazenamento â”‚  â”‚  â€¢ 50GB Armazenamentoâ”‚  â”‚  â€¢ 500GB Storage â”‚  â”‚
â”‚  â”‚  â€¢ 100GB Bandwidth   â”‚  â”‚  â€¢ 1TB Bandwidth     â”‚  â”‚  â€¢ 10TB Bandwidthâ”‚  â”‚
â”‚  â”‚  â€¢ SSL Incluso       â”‚  â”‚  â€¢ SSL Incluso       â”‚  â”‚  â€¢ SSL Incluso   â”‚  â”‚
â”‚  â”‚  â€¢ 1 DomÃ­nio         â”‚  â”‚  â€¢ 5 DomÃ­nios        â”‚  â”‚  â€¢ Ilimitado     â”‚  â”‚
â”‚  â”‚  â€¢ Backup Semanal    â”‚  â”‚  â€¢ Backup DiÃ¡rio     â”‚  â”‚  â€¢ Backup HorÃ¡rioâ”‚  â”‚
â”‚  â”‚  â€¢ Suporte Email     â”‚  â”‚  â€¢ Suporte PrioritÃ¡rioâ”‚ â”‚  â€¢ Suporte 24/7  â”‚  â”‚
â”‚  â”‚                      â”‚  â”‚  â€¢ CDN Global        â”‚  â”‚  â€¢ CDN Global    â”‚  â”‚
â”‚  â”‚  Sites EstÃ¡ticos     â”‚  â”‚  â€¢ Banco de Dados    â”‚  â”‚  â€¢ Multi-Region  â”‚  â”‚
â”‚  â”‚                      â”‚  â”‚                      â”‚  â”‚  â€¢ SLA 99.9%     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  [+ Criar Novo Plano]                                                       â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Modelo de Dados

```sql
CREATE TABLE hosting_plan (
    id VARCHAR(50) PRIMARY KEY,
    name VARCHAR(100) NOT NULL,
    price_monthly INTEGER NOT NULL,  -- centavos
    
    -- Limites
    storage_gb INTEGER,
    bandwidth_gb INTEGER,
    domains INTEGER,  -- NULL = ilimitado
    
    -- Features
    backup_frequency VARCHAR(20),  -- 'hourly', 'daily', 'weekly'
    ssl_included BOOLEAN DEFAULT TRUE,
    cdn_included BOOLEAN DEFAULT FALSE,
    database_included BOOLEAN DEFAULT FALSE,
    
    -- Suporte
    support_level VARCHAR(20),  -- 'email', 'priority', '24_7'
    sla_percent FLOAT,  -- 99.9
    
    -- Elegibilidade
    eligible_products JSONB,  -- ['static_site', 'web_app']
    
    is_active BOOLEAN DEFAULT TRUE,
    stripe_price_id VARCHAR(100)
);

-- Assinatura de hospedagem do cliente
CREATE TABLE hosting_subscription (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    project_id UUID REFERENCES project(id),
    plan_id VARCHAR(50) REFERENCES hosting_plan(id),
    
    -- Stripe
    stripe_subscription_id VARCHAR(100),
    
    -- Status
    status VARCHAR(20),  -- 'active', 'cancelled', 'past_due'
    current_period_start TIMESTAMP,
    current_period_end TIMESTAMP,
    
    -- Uso
    storage_used_mb INTEGER DEFAULT 0,
    bandwidth_used_mb INTEGER DEFAULT 0,
    
    created_at TIMESTAMP DEFAULT NOW()
);
```

---

## 5. Sistema de Backup

### ConfiguraÃ§Ã£o

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ConfiguraÃ§Ã£o de Backup                                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  ğŸ“¦ DESTINOS DE BACKUP                                                       â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                       â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  â˜ï¸ Cloudflare R2 (PrimÃ¡rio)                         [Ativo]       â”‚    â”‚
â”‚  â”‚      Bucket: innexar-backups                                       â”‚    â”‚
â”‚  â”‚      RetenÃ§Ã£o: 30 dias                                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  ğŸ—„ï¸ Server-Backup (SecundÃ¡rio)                       [Ativo]       â”‚    â”‚
â”‚  â”‚      Path: /backups/sites                                          â”‚    â”‚
â”‚  â”‚      RetenÃ§Ã£o: 90 dias                                             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                                                                              â”‚
â”‚  â° AGENDAMENTO                                                              â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                                                               â”‚
â”‚                                                                              â”‚
â”‚  â”‚ Tipo              â”‚ FrequÃªncia   â”‚ HorÃ¡rio  â”‚ RetenÃ§Ã£o â”‚                â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚
â”‚  â”‚ Sites EstÃ¡ticos   â”‚ Semanal      â”‚ Dom 3AM  â”‚ 4 cÃ³pias â”‚                â”‚
â”‚  â”‚ Web Apps (cÃ³digo) â”‚ DiÃ¡rio       â”‚ 3AM      â”‚ 30 dias  â”‚                â”‚
â”‚  â”‚ Web Apps (banco)  â”‚ HorÃ¡rio      â”‚ :00      â”‚ 7 dias   â”‚                â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. Resumo das Tabelas

```sql
-- Provedores de IA
ai_provider
ai_task_routing

-- Servidores
deploy_server

-- Hospedagem
hosting_plan
hosting_subscription

-- Git
git_provider
git_repository

-- Storage
storage_provider

-- ConfiguraÃ§Ãµes gerais
system_config
env_template

-- Backup
backup_destination
backup_schedule
backup_history
```

---

## 7. PrÃ³ximos Passos

1. [ ] Criar migrations para novas tabelas
2. [ ] Implementar pÃ¡gina Settings no CRM
3. [ ] Criar serviÃ§os para cada integraÃ§Ã£o
4. [ ] Implementar testes de conexÃ£o
5. [ ] Criar UI de configuraÃ§Ã£o

---

*Ãšltima atualizaÃ§Ã£o: Janeiro 2026*
